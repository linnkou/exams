<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>محرر مواضيع الاختبارات</title>
  <!-- تحميل TinyMCE -->
  <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
  <!-- تحميل MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- ربط ملف CSS المخصص -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>محرر مواضيع الاختبارات</h1>
  <textarea id="editor" name="content"></textarea>

  <script>
    tinymce.init({
      selector: '#editor',
      language: 'ar', // تعيين اللغة إلى العربية
      directionality: 'rtl', // تعيين الاتجاه إلى اليمين
      plugins: 'link image table lists', // إضافة ميزات مثل الروابط والصور والجداول
      toolbar: 'undo redo | styleselect | bold italic | link image | alignleft aligncenter alignright | outdent indent | table | numlist bullist',
      content_css: 'https://fonts.googleapis.com/css?family=Cairo&display=swap', // تحسين الخطوط
      font_formats: 'Cairo=Cairo', // تعيين خطوط مخصصة
      setup: function (editor) {
        editor.ui.registry.addContextToolbar('img', {
          predicate: function (node) {
            return node.nodeName.toLowerCase() === 'img';
          },
          items: 'link imageoptions',
          position: 'node',
          context: 'image'
        });
      },
      init_instance_callback: function (editor) {
        editor.on('NodeChange', function (e) {
          MathJax.typesetPromise([e.element]);
        });
      }
    });
  </script>
</body>
</html>
